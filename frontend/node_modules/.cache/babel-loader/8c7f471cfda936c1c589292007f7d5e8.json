{"ast":null,"code":"import { useState, useCallback, useEffect } from 'react';\nexport const useAuth = () => {\n  const [token, setToken] = useState(false);\n  const [userId, setUserId] = useState();\n  const login = useCallback((uid, token, expirationDate) => {\n    setUserId(uid);\n    setToken(token);\n    localStorage.setItem('userData', JSON.stringify({\n      userId: uid,\n      token\n    }));\n  }, []);\n  const logout = useCallback(() => {\n    setToken(null);\n    setUserId(null);\n    localStorage.removeItem('userData');\n  }, []);\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem('userData'));\n\n    if (storedData && storedData.token) {\n      login(storedData.userId, storedData.token);\n    }\n  }, [login]);\n  return {\n    token,\n    login,\n    logout,\n    userId\n  };\n};","map":{"version":3,"sources":["/home/abdo/Documents/MERN/Traveler-app/frontend/src/shared/hooks/auth-hook.js"],"names":["useState","useCallback","useEffect","useAuth","token","setToken","userId","setUserId","login","uid","expirationDate","localStorage","setItem","JSON","stringify","logout","removeItem","storedData","parse","getItem"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,QAAiD,OAAjD;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM;AAC1B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,EAApC;AAEA,QAAMQ,KAAK,GAAGP,WAAW,CAAC,CAACQ,GAAD,EAAML,KAAN,EAAaM,cAAb,KAAgC;AACvDH,IAAAA,SAAS,CAACE,GAAD,CAAT;AACAJ,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACAO,IAAAA,YAAY,CAACC,OAAb,CACG,UADH,EAEGC,IAAI,CAACC,SAAL,CAAe;AACZR,MAAAA,MAAM,EAAEG,GADI;AAEZL,MAAAA;AAFY,KAAf,CAFH;AAOF,GAVwB,EAUtB,EAVsB,CAAzB;AAYA,QAAMW,MAAM,GAAGd,WAAW,CAAC,MAAM;AAC9BI,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAI,IAAAA,YAAY,CAACK,UAAb,CAAwB,UAAxB;AACF,GAJyB,EAIvB,EAJuB,CAA1B;AAMAd,EAAAA,SAAS,CAAC,MAAM;AACb,UAAMe,UAAU,GAAGJ,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACQ,OAAb,CAAqB,UAArB,CAAX,CAAnB;;AACA,QAAIF,UAAU,IAAIA,UAAU,CAACb,KAA7B,EAAoC;AACjCI,MAAAA,KAAK,CAACS,UAAU,CAACX,MAAZ,EAAoBW,UAAU,CAACb,KAA/B,CAAL;AACF;AACH,GALQ,EAKN,CAACI,KAAD,CALM,CAAT;AAMA,SAAO;AAAEJ,IAAAA,KAAF;AAASI,IAAAA,KAAT;AAAgBO,IAAAA,MAAhB;AAAwBT,IAAAA;AAAxB,GAAP;AACF,CA7BM","sourcesContent":["import { useState, useCallback, useEffect } from 'react';\n\nexport const useAuth = () => {\n   const [token, setToken] = useState(false);\n   const [userId, setUserId] = useState();\n\n   const login = useCallback((uid, token, expirationDate) => {\n      setUserId(uid);\n      setToken(token);\n      localStorage.setItem(\n         'userData',\n         JSON.stringify({\n            userId: uid,\n            token,\n         })\n      );\n   }, []);\n\n   const logout = useCallback(() => {\n      setToken(null);\n      setUserId(null);\n      localStorage.removeItem('userData');\n   }, []);\n\n   useEffect(() => {\n      const storedData = JSON.parse(localStorage.getItem('userData'));\n      if (storedData && storedData.token) {\n         login(storedData.userId, storedData.token);\n      }\n   }, [login]);\n   return { token, login, logout, userId };\n};\n"]},"metadata":{},"sourceType":"module"}