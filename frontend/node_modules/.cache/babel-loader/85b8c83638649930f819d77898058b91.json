{"ast":null,"code":"var _jsxFileName = \"/home/abdo/Documents/MERN/Traveler-app/frontend/src/shared/components/FormElements/ImageUpload.jsx\";\nimport React, { useRef, useState } from 'react';\nimport Button from './Button';\nimport './ImageUpload.css';\n\nconst ImageUpload = props => {\n  const [file, setFile] = useState();\n  const [previewUrl, setPreviewUrl] = useState();\n  const [isValid, setIsValid] = useState();\n  const filePickerRef = useRef();\n\n  const pickImageHandler = () => {\n    filePickerRef.current.click();\n  };\n\n  const pickedHandlerFunc = e => {\n    let pickedFile;\n    let fileIsValid = isValid;\n\n    if (e.target.files || e.target.files.length !== 0) {\n      pickedFile = e.target.files[0];\n      setFile(pickedFile);\n      setIsValid(true);\n      fileIsValid = true;\n    } else {\n      setIsValid(false);\n      fileIsValid = false;\n    }\n\n    props.onInput(props.id, pickedFile, isValid);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fom-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: props.id,\n    style: {\n      display: 'none'\n    },\n    accept: \".jpg,.png.jepg\",\n    ref: filePickerRef,\n    onChange: pickedHandlerFunc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `image-upload ${props.center && 'center'} `,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image-upload__preview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"\",\n    alt: \"Preview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    onClick: pickImageHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Pick Image\")));\n};\n\nexport default ImageUpload;","map":{"version":3,"sources":["/home/abdo/Documents/MERN/Traveler-app/frontend/src/shared/components/FormElements/ImageUpload.jsx"],"names":["React","useRef","useState","Button","ImageUpload","props","file","setFile","previewUrl","setPreviewUrl","isValid","setIsValid","filePickerRef","pickImageHandler","current","click","pickedHandlerFunc","e","pickedFile","fileIsValid","target","files","length","onInput","id","display","center"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,mBAAP;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAC5B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,EAAhC;AACA,QAAM,CAACM,UAAD,EAAaC,aAAb,IAA8BP,QAAQ,EAA5C;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,EAAtC;AAEA,QAAMU,aAAa,GAAGX,MAAM,EAA5B;;AACA,QAAMY,gBAAgB,GAAG,MAAM;AAC5BD,IAAAA,aAAa,CAACE,OAAd,CAAsBC,KAAtB;AACF,GAFD;;AAGA,QAAMC,iBAAiB,GAAIC,CAAD,IAAO;AAC9B,QAAIC,UAAJ;AACA,QAAIC,WAAW,GAAGT,OAAlB;;AACA,QAAIO,CAAC,CAACG,MAAF,CAASC,KAAT,IAAkBJ,CAAC,CAACG,MAAF,CAASC,KAAT,CAAeC,MAAf,KAA0B,CAAhD,EAAmD;AAChDJ,MAAAA,UAAU,GAAGD,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACAd,MAAAA,OAAO,CAACW,UAAD,CAAP;AACAP,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAQ,MAAAA,WAAW,GAAG,IAAd;AACF,KALD,MAKO;AACJR,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAQ,MAAAA,WAAW,GAAG,KAAd;AACF;;AACDd,IAAAA,KAAK,CAACkB,OAAN,CAAclB,KAAK,CAACmB,EAApB,EAAwBN,UAAxB,EAAoCR,OAApC;AACF,GAbD;;AAcA,sBACG;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AACG,IAAA,IAAI,EAAC,MADR;AAEG,IAAA,EAAE,EAAEL,KAAK,CAACmB,EAFb;AAGG,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAHV;AAIG,IAAA,MAAM,EAAC,gBAJV;AAKG,IAAA,GAAG,EAAEb,aALR;AAMG,IAAA,QAAQ,EAAEI,iBANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,eASG;AAAK,IAAA,SAAS,EAAG,gBAAeX,KAAK,CAACqB,MAAN,IAAgB,QAAS,GAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAK,IAAA,GAAG,EAAC,EAAT;AAAY,IAAA,GAAG,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADH,eAIG,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAEb,gBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJH,CATH,CADH;AAoBF,CA3CD;;AA6CA,eAAeT,WAAf","sourcesContent":["import React, { useRef, useState } from 'react';\n\nimport Button from './Button';\nimport './ImageUpload.css';\n\nconst ImageUpload = (props) => {\n   const [file, setFile] = useState();\n   const [previewUrl, setPreviewUrl] = useState();\n   const [isValid, setIsValid] = useState();\n\n   const filePickerRef = useRef();\n   const pickImageHandler = () => {\n      filePickerRef.current.click();\n   };\n   const pickedHandlerFunc = (e) => {\n      let pickedFile;\n      let fileIsValid = isValid;\n      if (e.target.files || e.target.files.length !== 0) {\n         pickedFile = e.target.files[0];\n         setFile(pickedFile);\n         setIsValid(true);\n         fileIsValid = true;\n      } else {\n         setIsValid(false);\n         fileIsValid = false;\n      }\n      props.onInput(props.id, pickedFile, isValid);\n   };\n   return (\n      <div className=\"fom-control\">\n         <input\n            type=\"file\"\n            id={props.id}\n            style={{ display: 'none' }}\n            accept=\".jpg,.png.jepg\"\n            ref={filePickerRef}\n            onChange={pickedHandlerFunc}\n         />\n         <div className={`image-upload ${props.center && 'center'} `}>\n            <div className=\"image-upload__preview\">\n               <img src=\"\" alt=\"Preview\" />\n            </div>\n            <Button type=\"button\" onClick={pickImageHandler}>\n               Pick Image\n            </Button>\n         </div>\n      </div>\n   );\n};\n\nexport default ImageUpload;\n"]},"metadata":{},"sourceType":"module"}